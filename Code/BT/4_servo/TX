#include <SoftwareSerial.h>

// pushbutton code 추가

#define front A0
#define side A1
#define delt A2
#define elbow A3

#define push_button 8

boolean state = false;  //파랑으로 안 변함?
//static boolean state = false;로 바꿔보기
int pushed;

SoftwareSerial BTSerial(2, 3);  // BTSerial(Rx, Tx)


void setup() {
  Serial.begin(9600);
  BTSerial.begin(38400);
  pinMode(push_button, INPUT_PULLUP);
}

void loop() {
  // int pushed = digitalWrite(push_button);


  // //홀수번 눌리면 시작, 짝수번 눌리면 종료
  // if (pushed == 0) {
  //   state = !state;
  // }

  // while (!state)
  //   ;

  int front_val = map(analogRead(front), 0, 1023, 2, 178);  //서보모터 각도(0~180도)
  int side_val = map(analogRead(side), 0, 1023, 2, 178);
  int delt_val = map(analogRead(delt), 0, 1023, 2, 178);
  int elbow_val = map(analogRead(elbow), 0, 1023, 2, 178);

  int val[4] = {front_val, side_val, delt_val, elbow_val};

  for(int i = 0; i<4; i++){
  Serial.println(val[i]);
  BTSerial.write((byte)val[i]);  //int를 쏴도 되는 듯
  }
delay(40);
}
